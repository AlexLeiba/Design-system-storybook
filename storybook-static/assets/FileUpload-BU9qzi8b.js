import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as b,R as V}from"./iframe-C4cmufTQ.js";import{l as G}from"./cvaVariants-B_bvYhrT.js";import{c as U}from"./index-BE1rps4w.js";import{c as u}from"./utilities-BByubqM6.js";import{X as B}from"./x-DY4l_r1X.js";import{B as H}from"./Button-BFQyiAQi.js";const J=U(["transition-all duration-200 ease-in-out","border-dotted border-2 p-2 flex justify-center items-center w-full","disabled:cursor-not-allowed disabled:opacity-50 disabled:ring disabled:ring-gray-400 disabled:ring-offset-2 disabled:ring-offset-gray-100 ","focus:outline-none focus:ring focus:ring-black","hover:bg-gray-100 cursor-pointer"],{variants:{sizeType:{small:"min-h-[100px] text-base",medium:"min-h-[200px] text-xl",large:"min-h-[300px] p-4 text-2xl"},errorState:{false:"",true:"border-red-500 focus:border-red-600 focus:ring-red-600 pr-12 text-red-600"},successState:{false:"",true:"border-green-500 focus:border-green-600 focus:ring-green-600 pr-12 text-green-600"},isDragging:{false:"",true:"border-green-500 focus:border-green-600 focus:ring-green-600 pr-12 text-green-600"}}});function R({size:n="medium",label:i="Drag and drop files here",buttonTitle:d,handleClick:t,className:o="",...l}){const[s,c]=b.useState(!1);return e.jsx("button",{onClick:t,onDragOver:m=>{m.preventDefault(),c(!0)},onDragLeave:m=>{m.preventDefault(),c(!1)},onDragEnd:m=>{m.preventDefault()},className:u(J({sizeType:n,isDragging:s}),o),...l,children:e.jsx("p",{children:d||i})})}R.__docgenInfo={description:"",methods:[],displayName:"DragAndDropContainer",props:{size:{required:!1,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:"",defaultValue:{value:'"medium"',computed:!1}},label:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Drag and drop files here"',computed:!1}},buttonTitle:{required:!1,tsType:{name:"string"},description:""},handleClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{defaultValue:{value:'""',computed:!1},required:!1}}};const K=U("rounded-2xl overflow-hidden relative border-2 border-gray-500 p-2",{variants:{sizeType:{small:"size-[100px]",medium:"size-[120px]",large:"size-[150px]"}},defaultVariants:{sizeType:"small"}});function C({fileUrl:n,fileName:i,size:d,className:t="",closeButtonClassName:o="",handleClear:l,...s}){return e.jsxs("div",{className:u(K({sizeType:d}),t),...s,children:[e.jsx("button",{title:"delete file",className:u("fize-4 bg-gray-400 rounded-full absolute top-1 right-1 z-20 cursor-pointer hover:opacity-80",o),children:e.jsx(B,{onClick:l,className:"text-white"})}),e.jsx("a",{href:n,download:i,title:"download file",children:e.jsx("span",{className:"line-clamp-3",children:i})})]})}C.__docgenInfo={description:"",methods:[],displayName:"PreviewFile",props:{fileUrl:{required:!0,tsType:{name:"string"},description:""},fileName:{required:!0,tsType:{name:"string"},description:""},size:{required:!0,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:""},closeButtonClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},handleClear:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{defaultValue:{value:'""',computed:!1},required:!1}}};const Q=U("rounded-2xl overflow-hidden relative",{variants:{sizeType:{small:"size-[100px]",medium:"size-[120px]",large:"size-[150px]"}},defaultVariants:{sizeType:"small"}});function D({imgUrl:n,size:i,handleClear:d,className:t="",closeButtonClassName:o="",...l}){return e.jsxs("div",{className:u(Q({sizeType:i}),t),...l,children:[e.jsx("button",{title:"delete image",className:u("fize-4 bg-gray-400 rounded-full absolute top-1 right-1 z-20 cursor-pointer hover:opacity-80",o),children:e.jsx(B,{onClick:d,className:u("text-white")})}),e.jsx("img",{src:n,alt:"uploaded-image",className:"object-cover size-fit w-full h-full"})]})}D.__docgenInfo={description:"",methods:[],displayName:"PreviewImage",props:{imgUrl:{required:!0,tsType:{name:"string"},description:""},size:{required:!0,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:""},closeButtonClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},handleClear:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},className:{defaultValue:{value:'""',computed:!1},required:!1}}};const W={files:["csv","xlsx","txt","pdf"],images:["jpg","jpeg","png","webp","svg"]};function Y({handleSubmitFile:n,error:i,success:d,label:t,buttonTitle:o="Upload",fileTypes:l="images",uploadVariant:s="single",uiVariant:c="button",buttonVariant:m="primary",size:p="medium",loading:q=!1,disabled:z,allowedFileTypes:k=W,inputName:I,classNamelabel:$="",classNameButton:L="",classNameDragAndDropContainer:M="",classNamePreviewImageContainer:v="",classNamePreviewImageCloseButton:y="",classNameError:O="",className:P="",...X}){const[N,F]=V.useState(""),[T,S]=V.useState([]),[f,E]=V.useState(null),[A,x]=b.useState(""),j=b.useRef(null);b.useEffect(()=>{s==="multiple"&&n?.({error:"",file:T}),s==="single"&&f&&n?.({error:"",file:[{name:f?.name,url:N}]})},[T,f]);function _(a){try{if(!a)throw new Error("No file was provided, try again please");const r=a?.type.split("/")[1];if(!r)throw new Error("No file format was provided, try again please");if(!k[l].includes(r))throw new Error(`Forbidden file format ${r}, allowed formats: ${k[l].map(g=>g)}`);const w=URL.createObjectURL(a);if(!w)throw new Error("Invalid file was provided, please try again");s==="multiple"&&(S(g=>[...g,{url:w,name:a.name}]),x("")),s==="single"&&(F(w),E(a),x(""))}catch(r){n?.({error:r.message||"Something went wrong",file:[{name:"",url:""}]}),x(r.message||"Something went wrong")}}function h(a){F(""),x(""),s==="multiple"?S(r=>r.filter((w,g)=>g!==a)):E(null)}return e.jsxs("div",{className:u("flex flex-col gap-1",P),...X,children:[t&&e.jsx("label",{htmlFor:t||"fileUpload",children:e.jsx("p",{className:u(G({errorState:!!i,successState:!!d}),$),children:t})}),e.jsx("input",{name:I,id:t||"fileUpload",ref:j,className:"hidden",type:"file",onChange:a=>{const r=a.target.files?.[0];r&&_(r)}}),c==="button"&&e.jsx(H,{title:`upload ${l}`,disabled:z||q,className:L,loading:q,size:p,variant:m,onClick:()=>j.current?.click(),children:o}),c==="dragAndDropContainer"&&e.jsx(R,{title:`upload ${l}`,disabled:z||q,className:M,buttonTitle:o,onClick:()=>j.current?.click(),size:p,label:t,onDrop:a=>{a.preventDefault();const r=a.dataTransfer.files?.[0];r&&_(r)}}),(i||A)&&e.jsx("p",{className:u("text-sm text-red-600",O),children:i||A}),e.jsx("div",{className:"flex flex-wrap gap-4",children:s==="multiple"&&T.map((a,r)=>e.jsxs(e.Fragment,{children:[l==="files"&&e.jsx(C,{className:v,closeButtonClassName:y,size:p,fileUrl:a.url,fileName:a.name,handleClear:()=>h(r)},r),l==="images"&&e.jsx(D,{className:v,closeButtonClassName:y,size:p,imgUrl:a.url,handleClear:()=>h(r)},r)]}))}),s==="single"&&f&&e.jsxs(e.Fragment,{children:[l==="files"&&e.jsx(C,{className:v,closeButtonClassName:y,size:p,fileUrl:N,fileName:f.name,handleClear:()=>h(0)}),l==="images"&&e.jsx(D,{className:v,closeButtonClassName:y,size:p,imgUrl:N,handleClear:()=>h(0)})]})]})}Y.__docgenInfo={description:"",methods:[],displayName:"FileUpload",props:{handleSubmitFile:{required:!1,tsType:{name:"signature",type:"function",raw:`(data: {\r
  error: string;\r
  file: { name: string; url: string }[];\r
}) => void`,signature:{arguments:[{type:{name:"signature",type:"object",raw:`{\r
  error: string;\r
  file: { name: string; url: string }[];\r
}`,signature:{properties:[{key:"error",value:{name:"string",required:!0}},{key:"file",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ name: string; url: string }",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!0}}]}}],raw:"{ name: string; url: string }[]",required:!0}}]}},name:"data"}],return:{name:"void"}}},description:""},buttonTitle:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Upload"',computed:!1}},label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},success:{required:!1,tsType:{name:"boolean"},description:""},uploadVariant:{required:!1,tsType:{name:"union",raw:'"single" | "multiple"',elements:[{name:"literal",value:'"single"'},{name:"literal",value:'"multiple"'}]},description:"",defaultValue:{value:'"single"',computed:!1}},uiVariant:{required:!1,tsType:{name:"union",raw:'"button" | "dragAndDropContainer"',elements:[{name:"literal",value:'"button"'},{name:"literal",value:'"dragAndDropContainer"'}]},description:"",defaultValue:{value:'"button"',computed:!1}},fileTypes:{required:!1,tsType:{name:"union",raw:'"files" | "images"',elements:[{name:"literal",value:'"files"'},{name:"literal",value:'"images"'}]},description:"",defaultValue:{value:'"images"',computed:!1}},buttonVariant:{required:!1,tsType:{name:"union",raw:`| "primary"\r
| "secondary"\r
| "tertiary"\r
| "destructive"\r
| "ghost"\r
| "link"`,elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"tertiary"'},{name:"literal",value:'"destructive"'},{name:"literal",value:'"ghost"'},{name:"literal",value:'"link"'}]},description:"",defaultValue:{value:'"primary"',computed:!1}},size:{required:!1,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:"",defaultValue:{value:'"medium"',computed:!1}},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""},allowedFileTypes:{required:!1,tsType:{name:"signature",type:"object",raw:`{\r
  files: string[];\r
  images: string[];\r
}`,signature:{properties:[{key:"files",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}},{key:"images",value:{name:"Array",elements:[{name:"string"}],raw:"string[]",required:!0}}]}},description:"",defaultValue:{value:`{\r
  files: ["csv", "xlsx", "txt", "pdf"],\r
  images: ["jpg", "jpeg", "png", "webp", "svg"],\r
}`,computed:!1}},inputName:{required:!1,tsType:{name:"string"},description:""},classNamelabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameError:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameButton:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNameDragAndDropContainer:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNamePreviewImageContainer:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},classNamePreviewImageCloseButton:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},className:{defaultValue:{value:'""',computed:!1},required:!1}}};export{Y as F};
